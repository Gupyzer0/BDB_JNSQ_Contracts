CONTRACT_TYPE
{
	name = Mariner-4
	group = MarinerMission
	title = Mariner 4

	description = After Mariner 3 was a total loss due to failure of the payload shroud to jettison, Mariner 4 was rolled out as the fourth in a series of spacecraft used for planetary exploration in a flyby mode. Mariner 4 was designed to conduct closeup scientific observations of Duna and to transmit these observations to Kerbin. Other mission objectives are to perform field and particle measurements in interplanetary space in the vicinity of Duna and to provide experience in and knowledge of the engineering capabilities for interplanetary flights of long duration.

	notes = Mariner 4 was launched by an Atlas Agena D on November 28, 1964 from the Cape Canaveral Launch Complex.
	synopsis = <color=yellow>Launch the Mariner 4 spacecraft, flyby Duna and end in a heliocentric orbit.</color>
	completedMessage = Mission Success!
	
	agent = nasa
	minExpiry = 0
	maxExpiry = 0
	prestige = Exceptional
	cancellable = true
	declinable = true
	maxCompletions = 1
	maxSimultaneous = 1
	
	rewardScience = 5
	rewardReputation = 10
	rewardFunds = @Blue_Dog_Design_Bureau_Contracts:Kerbucks1
	advanceFunds = @Blue_Dog_Design_Bureau_Contracts:Kerbucks075

	targetBody = HomeWorld().Parent().Children().ElementAt(3) //Duna
	
	PARAMETER
	{
        name = Mariner-4
        type = VesselParameterGroup
        title = Launch the Mariner 4 spacecraft
        define = Mariner-4
		
		PARAMETER 
		{
			name = NewVessel
			type = NewVessel
			hidden = true
		}
		
		PARAMETER
		{
			name = Crewmembers
			type = HasCrew
			minCrew = 0
			maxCrew = 0
		}

		// Required Parts ---------------------------------
		PARAMETER
		{
			type = PartValidation
			part = bluedog_Mariner_Bus
		}
		// /Required Parts ---------------------------------
	}
	
	PARAMETER
	{
        name = Mariner4Objectives
        type = VesselParameterGroup
        title = Flyby @/targetBody
        vessel = Mariner-4
		
		PARAMETER
		{	
			name = Sequence
			type = Sequence
			
			PARAMETER
			{   
				name = Orbit
				type = Orbit

				targetBody = @/targetBody
				minInclination = 0
				situation = ESCAPING
				maxPeA = 2466000
				title = Perform a flyby of @targetBody 
				disableOnStateChange = True
			}

			PARAMETER
			{
				name = CollectScienceA
				type = CollectScience
				
				targetBody = @/targetBody
				location = Space
				recoveryMethod = Transmit
				title = Transmit Science from space around @/targetBody
				hideChildren = true
				disableOnStateChange = true
			}
		}
	}
	
	REQUIREMENT
	{
        name = CompleteContract
        type = CompleteContract
        contractType = Mariner-2
        minCount =1
        maxCount =1
        cooldownDuration = 0d
	}
}