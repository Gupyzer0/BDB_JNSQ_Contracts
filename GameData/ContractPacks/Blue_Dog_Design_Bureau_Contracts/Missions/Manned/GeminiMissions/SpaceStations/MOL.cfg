CONTRACT_TYPE
{
	name = Gemini-MOL
	group = GeminiMission
	title = Gemini - Manned Orbiting Laboratory

	description = The Manned Orbiting Laboratory (MOL) is part of the United States Air Force (USAF) human spaceflight program. The project was developed from early USAF concepts of crewed space stations as reconnaissance satellites. Plans for the MOL evolved into a single-use laboratory, for which crews are launched on 30-day missions, and return to Earth using a Gemini B spacecraft.

	notes = A MOL test flight was launched by a Titan IIIC on November 3, 1966 from the Cape Canaveral Launch Complex.
	synopsis =  <color=yellow>Launch the MOL station into orbit, perform experiments and photo reconnaissance of the designated targets.</color>
	completedMessage = Mission Success!

	agent = usaf
	deadline = 0
	minExpiry = 0
	maxExpiry = 0
	prestige = Significant
	cancellable = false
	declinable = false
	maxCompletions = 4
	maxSimultaneous = 1
	
	rewardScience = 8
	rewardReputation = 20
	rewardFunds = @Blue_Dog_Design_Bureau_Contracts:Kerbucks1
	advanceFunds = @Blue_Dog_Design_Bureau_Contracts:Kerbucks2

    // Hardcoded list of specific experiments
    DATA
    {
        name = experimentslist
		title = experimentslist
		type = List<ScienceExperiment>
        hidden = true

        experiments = [bd_surveillance]
    }
	
	// Randomly select 5 valid biomes to study from low space.
    DATA
    {
		type = List<ScienceSubject>
        hidden = true

        scienceSubjectsTemp1 = AllScienceSubjectsByBodyExperiment([@targetBody], @experiments)
		scienceSubjectsTemp2 = @scienceSubjectsTemp1.Where(s => !s.Biome().IsKSC())
		scienceSubjectsTemp3 = @scienceSubjectsTemp2.Where(s => s.Situation() == InSpaceLow)
        scienceSubjects = @scienceSubjectsTemp3.Random(5)
    }

	PARAMETER
	{
        name = Gemini-MOL
        type = VesselParameterGroup
        title = Launch the Gemini MOL spacecraft into orbit
        define = Gemini-MOL

		PARAMETER 
		{
			name = NewVessel
			type = NewVessel
			hidden = true
		}

		PARAMETER
		{
			name = Crewmembers
			type = HasCrew
			maxCrew = 2
		}

		// Required Parts ---------------------------------
		PARAMETER
		{
			type = PartValidation
			part = bluedog_Gemini_Capsule
			disableOnStateChange = True
		}
        PARAMETER
		{
			type = PartValidation
			part = bluedog_MOL_Camera
			disableOnStateChange = True
		}
        PARAMETER
		{
			type = PartValidation
			part = bluedog_MOL_Lab_New
			disableOnStateChange = True
		}
		// /Required Parts ---------------------------------
		
		PARAMETER
		{
			name = Orbit    
			type = Orbit    
			targetBody = HomeWorld()    
			minAltitude = 150000
            maxAltitude = @targetBody.SpaceAltitudeThreshold()
			maxEccentricity = 0.01
			disableOnStateChange = True
		}
	}

    PARAMETER
    {
        name = CollectScienceA
        type = CollectScience

        title = Take photos of the specified areas
        biome = @scienceSubject.Biome()
        situation = InSpaceLow
        experiment = bd_surveillance
        recoveryMethod = RecoverOrTransmit
        disableOnStateChange = True

        ITERATOR
        {
            type = ScienceSubject
            scienceSubject = @/scienceSubjects
        }
    }

	PARAMETER
	{
        name = ReturnHome
        type = ReturnHome
		title = Recover the Gemini-B capsule and its occupants intact.
	}

	REQUIREMENT
	{
        name = CompleteContract
        type = CompleteContract
        contractType = Hexagon_KH9
        minCount = 1
        cooldownDuration = 0d
	}
}