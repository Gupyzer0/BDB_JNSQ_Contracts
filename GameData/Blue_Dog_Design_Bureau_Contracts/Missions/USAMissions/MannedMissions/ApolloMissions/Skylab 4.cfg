CONTRACT_TYPE
{
	name = Skylab-4
	group = SkylabMission
	title = Skylab-4
	
	description = Skylab 4 is the third manned Skylab mission. The mission is to perform scientific experiments in the areas of medical activities, solar observations, Earth resources, observation of the Comet Kohoutek, and other experiments.
	
	notes = Skylab 4 was launched by a Saturn 1B on November 16, 1973 from the Cape Canaveral launch site.
	synopsis = <color=yellow>Launch the third crew to their long-duration stay onboard Skylab.</color>
	completedMessage = Mission Success!

    agent = nasa
    prestige = Significant
	minExpiry = 0
	maxExpiry = 0
	prestige = trivial
	cancellable = false
	declinable = false
	maxCompletions = 1
	maxSimultaneous = 1 
	
	rewardScience = 15
	rewardReputation = 5
	rewardFunds = @Blue_Dog_Design_Bureau_Contracts:Kerbucks1
	advanceFunds = @Blue_Dog_Design_Bureau_Contracts:Kerbucks3
	
	PARAMETER
	{
		name = Skylab-4
		type = VesselParameterGroup
		title = Perform orbital research in Skylab
		define = Skylab-4
		duration = 84d 1h
		
		PARAMETER
		{
			name = Orbit
			type = Orbit
			minInclination = 1
			targetBody = HomeWorld()
			disableOnStateChange = true
		}
		
		PARAMETER
		{
			name = NewVessel
			type = NewVessel
			hidden = true
		}
		
		PARAMETER
		{
			name = Crewmembers
			type = HasCrew
			minCrew = 3
			maxCrew = 3
		}

        // Required Parts ---------------------------------
		PARAMETER
		{
			type = PartValidation
			part = bluedog_Apollo_LES
			disableOnStateChange = True
		}
		PARAMETER
		{
			name = PartValidation	
			type = PartValidation	
			part = bluedog_Apollo_CrewPod
		}
		PARAMETER
		{
			name = PartValidation
			type = PartValidation
			title = Must have a docking port
			partModule = ModuleDockingNode
		}
        // /Required Parts ---------------------------------
	}
	
	PARAMETER
	{
		name = Sequence
		type = Sequence
		
		PARAMETER
		{
			name = Rendezvous
			type = Rendezvous
			vessel = Skylab
			distance = 200
			title = Rendezvous with Skylab and inspect the damage
			disableOnStateChange = true
		}
		
		PARAMETER
		{
			name = Docking
			type = Docking
			vessel = Skylab
			title = Dock with Skylab and carry out repairs and orbital research
			defineDockedVessel = Skylab-4
			disableOnStateChange = true
		}
		
		PARAMETER
		{
			name = CollectScience
			type = CollectScience
			situation = InSpaceLow
			experiment = crewReport
			recoveryMethod = Transmit
			title = Relay your findings
			disableOnStateChange = true
		}
		
		PARAMETER
		{
			name = Engineer
			type = All
			title = Deploy station experiments on EVA with a scientist
			disableOnStateChange = true
			
			PARAMETER
			{
				name = VesselIsType
				type = VesselIsType
				vesselType = EVA
			}
			PARAMETER
			{
				name = HasCrew
				type = HasCrew
				trait = Scientist
			}
		}
		
		PARAMETER
		{
			name = CollectScience
			type = CollectScience
			situation = InSpaceLow
			experiment = evaReport
			recoveryMethod = Transmit
			title = Report on the EVA
			disableOnStateChange = true
		}
	}
	
	PARAMETER
	{
		name = CollectScience
		type = CollectScience
		situation = InSpaceLow
		experiment = [bd_oso, bd_atm, bd_solarWind]
		recoveryMethod = Recover
		title = Perform a suite of solar observations and recover the data
		disableOnStateChange = true
	}
	
	PARAMETER
	{
		name = ReturnHome
		type = ReturnHome
		title = Safely return the crew home after their stay
	}
	
	REQUIREMENT
	{
		name = PreviousMission
		type = CompleteContract
		contractType = Skylab-3
		minCount = 1
		maxCount = 1
		cooldownDuration = 0d
	}
}