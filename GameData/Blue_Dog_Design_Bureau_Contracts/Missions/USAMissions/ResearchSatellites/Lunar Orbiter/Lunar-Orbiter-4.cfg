CONTRACT_TYPE
{
    name = Lunar-Orbiter-4
    group = LunarOrbiterMission
    title = Lunar Orbiter-4
	
	description = The Lunar Orbiter 4 spacecraft is designed primarily to photograph smooth areas of the lunar surface for the selection and verification of safe landing sites for the Surveyor and Apollo missions. It's also equipped to collect selenodetic, radiation intensity, and micrometeorite impact data.
	
    notes = Lunar Orbiter 4 was launched by an Atlas SLV-3 Agena-D on May 4, 1967 from the Cape Canaveral Launch Complex.
    synopsis = <color=yellow>Launch Lunar Orbiter 4 into orbit around Mun.</color>
    completedMessage = Mission Success!
	
	agent = nasa
	minExpiry = 90
	maxExpiry = 90
	cancellable = false
	declinable = false
	prestige = trivial
	maxCompletions = 1
	maxSimultaneous = 1
	rewardScience = 5
	rewardReputation = 5
	rewardFunds = 40000
	failureFunds = 30000
	advanceFunds = 15000

	targetBody = HomeWorld().Children().First()

	PARAMETER
	{
        name = Lunar-Orbiter-4
        type = VesselParameterGroup
        title = Launch the Lunar Orbiter 4 satellite into orbit
        define = Lunar-Orbiter-4

		PARAMETER 
		{
			name = NewVessel
			type = NewVessel
			hidden = true
		}

		PARAMETER
		{
			name = Crewmembers
			type = HasCrew
			minCrew = 0
			maxCrew = 0
		}

		// Required Parts ---------------------------------
		PARAMETER
		{
			type = PartValidation
			part = bluedog_LunarOrbiter_Core
			disableOnStateChange = True
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_LunarOrbiter_Propulsion
			disableOnStateChange = True
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_LunarOrbiter_Dish
			disableOnStateChange = True
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_LunarOrbiter_Antenna
			disableOnStateChange = True
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_LunarOrbiter_Solar_UnderFold //4
			minCount = 4
			disableOnStateChange = True
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_LunarOrbiter_Camera
			disableOnStateChange = True
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_Agena_Decoupler_LunarOrbiter
			disableOnStateChange = True
		}
		// /Required Parts ---------------------------------
		
		PARAMETER
		{
			name = Sequence
			type = Sequence
			
			PARAMETER
			{
				name = Orbit
				type = Orbit
				targetBody = HomeWorld().Children().First()		
				situation = ORBITING
				title = Orbit the Mun with the following parameters
				minApA = 1500000
				maxApA = 1550000
				minPeA = 662500
				maxPeA = 687500
				minInclination = 82
				maxInclination = 88
				disableOnStateChange = true

				PARAMETER
				{
					name = Duration
					type = Duration
					duration = 45s

					preWaitText = Verifying Orbit
					waitingText = Verifying Orbit
					completionText = Orbit Confirmed
				}
			}
			
			PARAMETER
			{
				name = Orbit
				type = Orbit
				targetBody = HomeWorld().Children().First()		
				situation = ORBITING
				title = Lower your orbit to obtain more orbital data
				minApA = 1500000
				maxApA = 1550000
				maxPeA = 20000
				disableOnStateChange = true

				PARAMETER
				{
					name = Duration
					type = Duration
					duration = 45s

					preWaitText = Verifying Orbit
					waitingText = Verifying Orbit
					completionText = Orbit Confirmed
				}
			}
		}
		
		PARAMETER
		{
			name = CollectScience
			type = CollectScience
			targetBody = HomeWorld().Children().First()
			location = Space
			recoveryMethod = Transmit
			experiment = [bd_camera, bd_GeigerCounter]
			title = Take and transmit photographs and science data of @targetBody
			disableOnStateChange = true
		}
	}

	REQUIREMENT
	{
          name = CompleteContract
          type = CompleteContract
          contractType = Lunar-Orbiter-3
          minCount =1
          maxCount =1
          cooldownDuration = 0d
	}
}