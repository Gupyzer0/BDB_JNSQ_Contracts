CONTRACT_TYPE
{
	name = Mariner-10
	group= MarinerMission
	title = Mariner 10

	description = Mariner 10 is the first mission to use the gravitational attraction of one planet to reach another, the first mission with two planetary objectives. The primary goal of the Mariner 10 was to study the atmosphere (if any), surface and physical characteristics of @targetBody2. 

	notes = Mariner 10 was launched by an Atlas-SLV3D Centaur-D on November 3, 1973 from the Cape Canaveral Launch Complex.
	synopsis =  <color=yellow>Launch the Mariner 10 spacecraft, flyby both @targetBody1 and @targetBody2.</color>
	completedMessage = Mission Success!

	agent = nasa
	minExpiry = 90
	maxExpiry = 90
	prestige = trivial
	cancellable = true
	declinable = true
	maxCompletions = 1
	maxSimultaneous = 1
	rewardScience = 10
	rewardReputation = 10
	rewardFunds = @Blue_Dog_Design_Bureau_Contracts:Kerbucks3
	failureFunds = @Blue_Dog_Design_Bureau_Contracts:Kerbucks075
	advanceFunds = @Blue_Dog_Design_Bureau_Contracts:Kerbucks075
	
	targetBody = @targetBody2
	
	// Select first body from the list of bodies within SMA range as target
    DATA
    {
		title = target
		type = CelestialBody
		requiredValue = true
		
        targetBody1 = HomeWorld().Parent().Children().ElementAt(2) // Venus == Eve
    }
	
    DATA
    {
		title = target2
		type = CelestialBody
		requiredValue = true
		
        targetBody2 = HomeWorld().Parent().Children().First() // Mercury == Moho
    }
	
	PARAMETER
	{
        name = Mariner-10
        type = VesselParameterGroup
        title = Launch the Mariner 10 spacecraft
        define = Mariner-10

		PARAMETER 
		{
			name = NewVessel
			type = NewVessel
			hidden = true
		}

		PARAMETER
		{
			name = Crewmembers
			type = HasCrew
			minCrew = 0
			maxCrew = 0
		}

		// Required Parts ---------------------------------
		PARAMETER
		{
			type = PartValidation
			part = bluedog_Mariner10_probeCore
			disableOnStateChange = True
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_mariner10_highGainAntenna
			disableOnStateChange = True
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_mariner10_SciencePallet
			disableOnStateChange = True
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_mariner10_UVspectrometer
			disableOnStateChange = True
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_mariner10_magnetometer
			disableOnStateChange = True
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_mariner10_engine
			disableOnStateChange = True
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_mariner10_sunShield
			disableOnStateChange = True
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_mariner10_solar //2
			disableOnStateChange = True
			minCount = 2
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_mariner10_camera
			disableOnStateChange = True
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_Mariner10_chargedParticleTelescope //2
			disableOnStateChange = True
			minCount = 2
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_mariner10_lowGainAntenna
			disableOnStateChange = True
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_mariner10_starTracker
			disableOnStateChange = True
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_mariner10_plasmaScience
			disableOnStateChange = True
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_mariner10_decoupler
			disableOnStateChange = True
		}
		// /Required Parts ---------------------------------
	}
	
	PARAMETER
	{
        name = Mariner10Venus
        type = VesselParameterGroup
        title = Flyby @/targetBody1 and do measurements
        vessel = Mariner-10
		
		PARAMETER
		{	
			name = Sequence
			type = Sequence
			
			PARAMETER
			{   
				name = Orbit2
				type = Orbit
				targetBody = @/targetBody1
				minInclination = 0
				situation = ESCAPING
				title = Perform a flyby of @/targetBody1
				disableOnStateChange = true
			}
			
			PARAMETER
			{
				name = CollectScienceB
				type = CollectScience

				targetBody = @/targetBody1
				location = Space
				recoveryMethod = Transmit
				experiment = [logIonTrap, bd_UVspec, bd_camera, bd_magScan, bd_ionElec, bd_IRradiometer]
				title = Transmit physics data of @/targetBody1
				disableOnStateChange = true
			}
		}
	}

	PARAMETER
	{
        name = Mariner10Mercury
        type = VesselParameterGroup
        title = Flyby @targetBody2 and do measurements
        vessel = Mariner-10
		
		PARAMETER
		{	
			name = Sequence2
			type = Sequence
			
			PARAMETER
			{   
				name = Orbit3
				type = Orbit
				targetBody = @/targetBody
				minInclination = 0
				situation = ESCAPING
				title = Perform a flyby of @/targetBody
				disableOnStateChange = true
			}
		
			PARAMETER
			{
				name = CollectScienceD
				type = CollectScience

				targetBody = @/targetBody
				location = Space
				recoveryMethod = Transmit
				experiment = [logIonTrap, bd_UVspec, bd_camera, bd_magScan, bd_ionElec, bd_IRradiometer]
				title = Transmit physics data of @/targetBody
				disableOnStateChange = true
			}
		}
	}
	
	REQUIREMENT
	{
        name = CompleteContract
        type = CompleteContract
        contractType = Mariner-9
        minCount =1
        maxCount =1
        cooldownDuration = 0d
	}
}