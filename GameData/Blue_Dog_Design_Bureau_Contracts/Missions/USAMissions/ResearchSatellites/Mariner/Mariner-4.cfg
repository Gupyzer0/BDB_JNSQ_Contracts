CONTRACT_TYPE
{
	name = Mariner-4
	group= MarinerMission
	title = Mariner 4

	description = After Mariner 3 was a total loss due to failure of the payload shroud to jettison, Mariner 4 was rolled out as the fourth in a series of spacecraft used for planetary exploration in a flyby mode. Mariner 4 was designed to conduct closeup scientific observations of Duna and to transmit these observations to Kerbin. Other mission objectives are to perform field and particle measurements in interplanetary space in the vicinity of Duna and to provide experience in and knowledge of the engineering capabilities for interplanetary flights of long duration.

	notes = Mariner 4 was launched by an Atlas Agena D on November 28, 1964 from the Cape Canaveral Launch Complex.
	synopsis = <color=yellow>Launch the Mariner 4 spacecraft, flyby Duna and end in a heliocentric orbit.</color>
	completedMessage = Mission Success!
	
	agent = nasa
	minExpiry = 90
	maxExpiry = 90
	prestige = trivial
	cancellable = true
	declinable = true
	maxCompletions = 1
	maxSimultaneous = 1
	rewardScience = 5
	rewardReputation = 5
	rewardFunds = @Blue_Dog_Design_Bureau_Contracts:Kerbucks2
	failureFunds = @Blue_Dog_Design_Bureau_Contracts:Kerbucks075
	advanceFunds = @Blue_Dog_Design_Bureau_Contracts:Kerbucks075
	
	PARAMETER
	{
        name = Mariner-4
        type = VesselParameterGroup
        title = Launch the Mariner 4 spacecraft
        define = Mariner-4
		
		PARAMETER 
		{
			name = NewVessel
			type = NewVessel
			hidden = true
		}
		
		PARAMETER
		{
			name = Crewmembers
			type = HasCrew
			minCrew = 0
			maxCrew = 0
		}

		// Required Parts ---------------------------------
		PARAMETER
		{
			type = PartValidation
			part = bluedog_Mariner_Bus
			disableOnStateChange = True
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_Mariner_Midcourse_Engine
			disableOnStateChange = True
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_Mariner_Louver //6
			disableOnStateChange = True
			minCount = 6
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_Mariner3_Solar //4
			disableOnStateChange = True
			minCount = 4
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_Mariner_CosmicDustDetector
			disableOnStateChange = True
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_Mariner_PlasmaProbe
			disableOnStateChange = True
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_Mariner_TrappedRadiationDetector
			disableOnStateChange = True
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_Mariner_CosmicRayDetector
			disableOnStateChange = True
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_Mariner3_TV_Camera
			disableOnStateChange = True
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_Mariner3_CanopusSensor
			disableOnStateChange = True
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_Mariner_Early_HGA
			disableOnStateChange = True
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_Mariner_Early_LGA_Mast
			disableOnStateChange = True
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_Mariner_IonizationChamber
			disableOnStateChange = True
		}
		// /Required Parts ---------------------------------
	}
	
	PARAMETER
	{
        name = Mariner4Objectives
        type = VesselParameterGroup
        title = Flyby Duna and end in a heliocentric orbit
        vessel = Mariner-4
		
		PARAMETER
		{	
			name = Sequence
			type = Sequence
			
			PARAMETER
			{   
				name = Orbit
				type = Orbit
				targetBody = Duna
				minInclination = 0
				situation = ESCAPING
				maxPeA = 2466000
				title = Perform a flyby of Duna 
				disableOnStateChange = True
			}

			PARAMETER
			{
				type = CollectScience
				
				targetBody = Duna
				situation = InSpaceHigh
				recoveryMethod = Transmit
				title = Transmit Science from space around Duna
				experiment = [logIonTrap, bd_GeigerCounter, bd_magScan, bd_camera, temperatureScan, bd_cosmicRay, bd_TrappedRadiation, bd_solarWind, logmmImpacts]
				hideChildren = true
				disableOnStateChange = true
			}
			
			PARAMETER
			{   
				name = Orbit3
				type = Orbit
				minInclination = 0
				targetBody = HomeWorld().Parent()
				title = End the mission after escape into a heliocentric orbit
				completeInSequence = true
				disableOnStateChange = true
			}
		}
	}
	
	REQUIREMENT
	{
        name = CompleteContract
        type = CompleteContract
        contractType = Mariner-2
        minCount =1
        maxCount =1
        cooldownDuration = 0d
	}
}