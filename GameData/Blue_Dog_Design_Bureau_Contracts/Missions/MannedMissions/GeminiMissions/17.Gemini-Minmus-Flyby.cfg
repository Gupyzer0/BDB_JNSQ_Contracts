CONTRACT_TYPE
{
	name = Gemini-Minmus-Flyby
	group = GeminiMission
	title = Gemini Minmus Flyby

	description = After that Mun flyby we're confident you can repeat the same feat but with Minmus as target!.

	notes = You might use a Saturn IB/Titan III for a Direct ascent mission or perhaps dock in orbit of Kerbin with a booster (Transtage / Centaur) and reach Minmus.
	synopsis = <color=yellow>Launch a Gemini spacecraft and perform a Flyby of Minmus</color>
	completedMessage = Mission Success!

	agent = nasa
	deadline = 0
	minExpiry = 0
	maxExpiry = 0
	prestige = Significant
	cancellable = true
	declinable = true
	maxCompletions = 2
	maxSimultaneous = 1
	
	rewardScience = 15
	rewardReputation = 10
	rewardFunds = @Blue_Dog_Design_Bureau_Contracts:Kerbucks1
	advanceFunds = @Blue_Dog_Design_Bureau_Contracts:Kerbucks2

	targetBody = HomeWorld().Children().Last()

	PARAMETER
	{
        name = Gemini-Minmus-Flyby
        type = VesselParameterGroup
        title = Launch the Gemini Minmus Flyby spacecraft and flyby @targetBody
        define = Gemini-Minmus-Flyby

		PARAMETER 
		{
			name = NewVessel
			type = NewVessel
			hidden = true
		}

		PARAMETER
		{
			name = Crewmembers
			type = HasCrew
			minCrew = 2
			maxCrew = 2
		}

		// Required Parts ---------------------------------
		PARAMETER
		{
			type = PartValidation
			part = bluedog_Gemini_Capsule
			disableOnStateChange = True
		}

		PARAMETER
		{
			type = PartValidation
			part = bluedog_Gemini_LunarRecon_Camera
			disableOnStateChange = True
		}
		// /Required Parts ---------------------------------

		PARAMETER
		{   
			name = Orbit
			type = Orbit

			targetBody = @/targetBody
			title = Perform a close flyby of @targetBody
			minInclination = 0
			situation = ESCAPING
			maxPeA = @targetBody.SpaceAltitudeThreshold()
			disableOnStateChange = True
		}

		
		PARAMETER
		{
			type = CollectScience

			targetBody = @/targetBody
			situation = InSpaceLow
			experiment = bd_camera
			recoveryMethod = Transmit
			title = Map the terrain of Minmus
			disableOnStateChange = True
		}

		PARAMETER
		{
			type = CollectScience

			targetBody = @/targetBody
			situation = InSpaceLow
			experiment = crewReport
			recoveryMethod = Transmit
			title = Report the crew's experience
			disableOnStateChange = True
		}

		PARAMETER
		{
			type = CollectScience

			targetBody = @/targetBody
			situation = InSpaceLow
			experiment = evaReport
			recoveryMethod = Transmit
			title = Perform an EVA and report the crew's experience
			disableOnStateChange = True
		}
	}

	PARAMETER
	{
        name = ReturnHome
        type = ReturnHome
		title = Recover the Gemini capsule and its human occupants intact
	}

	REQUIREMENT
	{
        name = CompleteContract
        type = CompleteContract
        contractType = Gemini-Mun-Flyby
        minCount =1
        maxCount =1
        cooldownDuration = 0d
	}

	// Deactivate this if Apollo-7 is flown
	REQUIREMENT
    {
        name = Any
		type = Any
		invertRequirement = true
		
		REQUIREMENT
        {
            name = CompleteContract
            type = CompleteContract
            contractType = Apollo-7
            minCount = 1
            cooldownDuration = 0d
        }
    }
}    