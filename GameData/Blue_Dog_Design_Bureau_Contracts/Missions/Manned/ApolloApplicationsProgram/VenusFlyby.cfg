CONTRACT_TYPE
{
	name = AAP-VenusFlyby
	group = MarinerMission
	title = Apollo Applications Program: Eve Flyby

	description = Eve Flyby is a proposal to send three astronauts on a flyby mission to Eve in an Apollo-derived spacecraft, using a gravity assist to shorten the return journey to Earth.

	notes = The Venus Flyby would've launched by a Saturn V using a "wet workshop" S-IVB.
	synopsis = <color=yellow>Launch a crewed spacecraft and flyby Eve.</color>
	completedMessage = Mission Success!

	agent = nasa
	minExpiry = 0
	maxExpiry = 0
	prestige = Exceptional
	cancellable = true
	declinable = true
	maxCompletions = 1
	maxSimultaneous = 1

	rewardScience = 15
	rewardReputation = 20
	rewardFunds = @Blue_Dog_Design_Bureau_Contracts:Kerbucks6
	advanceFunds = @Blue_Dog_Design_Bureau_Contracts:Kerbucks2

	targetBody = HomeWorld().Parent().Children().ElementAt(1) //Eve

	PARAMETER
	{
        name = AAP-VenusFlyby
        type = VesselParameterGroup
        title = Flyby @/targetBody
        define = AAP-VenusFlyby
		PARAMETER 
		{
			name = NewVessel
			type = NewVessel
			hidden = true
		}

		PARAMETER
		{
			name = Crewmembers
			type = HasCrew
			minCrew = 1
			maxCrew = 3
		}
		
		// Required Parts ---------------------------------
		PARAMETER
		{
			type = PartValidation
			part = bluedog_Apollo_LES
			disableOnStateChange = True
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_Apollo_CrewPod
			disableOnStateChange = True
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_Skylab_VFB_ESM
			disableOnStateChange = True
		}
		PARAMETER
        {
            name = PartValidationSolar
            type = PartValidation
			title = You'll need solar panels
            partModule = ModuleDeployableSolarPanel
			disableOnStateChange = True
        }
		// /Required Parts ---------------------------------

		PARAMETER
		{
			name = AAPVenusFlybyObjectives
			type = VesselParameterGroup
			title = Flyby @/targetBody and return home safely
			vessel = AAP-VenusFlyby
			
			PARAMETER
			{	
				name = Sequence
				type = Sequence

				PARAMETER
				{   
					name = Orbit
					type = Orbit

					targetBody = @/targetBody
					minInclination = 0
					situation = ESCAPING
					maxPeA = 750000
					title = Flyby @targetBody
					disableOnStateChange = True
				}
				
				PARAMETER
				{
					name = CollectScienceA
					type = CollectScience
					
					targetBody = @/targetBody
					location = Space
					recoveryMethod = Transmit
					title = Transmit Science data from space around @targetBody
					hideChildren = true
					disableOnStateChange = true
				}
			}
		}
	}

	PARAMETER
	{
		name = ReturnHome
		type = ReturnHome
		title = Safely return the crew home after the long journey
	}

	REQUIREMENT
	{
        name = CompleteContract
        type = CompleteContract
        contractType = Skylab-2
        minCount =1
        maxCount =1
        cooldownDuration = 0d
	}
}