CONTRACT_TYPE
{
	name = Skylab-2
	group = SkylabMission
	title = Skylab-2
	
	description = Skylab 2 (also SL-2 and SLM-1) is the first crewed mission to Skylab. The name Skylab 2 also refers to the vehicle used for that mission, a slightly modified Apollo command and service module (CSM). The objectives of the crew is to conduct solar astronomy and Earth resources experiments, medical studies, and five student experiments.
	
	notes = Skylab 2 was launched by a Saturn 1B on May 25, 1973 from the Cape Canaveral launch site.
	synopsis = <color=yellow>Launch the first crew of three to their stay onboard Skylab.</color>
	completedMessage = Mission Success!

    agent = nasa
	minExpiry = 0
	maxExpiry = 0
	prestige = Significant
	cancellable = false
	declinable = false
	maxCompletions = 1
	maxSimultaneous = 1 
	
	rewardScience = 15
	rewardReputation = 5
	rewardFunds = @Blue_Dog_Design_Bureau_Contracts:Kerbucks1
	advanceFunds = @Blue_Dog_Design_Bureau_Contracts:Kerbucks3
	
	PARAMETER
	{
		name = Skylab-2
		type = VesselParameterGroup
		title = Launch the CSM into orbit before rendezvous
		define = Skylab-2
		
		PARAMETER
		{
			name = NewVessel
			type = NewVessel
			hidden = true
		}
		
		PARAMETER
		{
			name = Crewmembers
			type = HasCrew
			minCrew = 3
			maxCrew = 3
		}
		
        // Required Parts ---------------------------------
		PARAMETER
		{
			type = PartValidation
			part = bluedog_Apollo_LES
			disableOnStateChange = True
		}
		PARAMETER
		{
			name = PartValidation	
			type = PartValidation	
			part = bluedog_Apollo_CrewPod
			disableOnStateChange = True
		}
		PARAMETER
		{
			name = PartValidation
			type = PartValidation
			title = Must have a docking port
			partModule = ModuleDockingNode
			disableOnStateChange = True
		}
        // /Required Parts ---------------------------------

		PARAMETER
		{
			name = Orbit
			type = Orbit
			minInclination = 1
			targetBody = HomeWorld()
			disableOnStateChange = true
			
			PARAMETER
			{
				name = Duration
				type = Duration
				duration = 14d
				preWaitText = Going to Skylab
				waitingText = Working at Skylab
				completionText = Mission complete, return back home
				disableOnStateChange = true
			}
		}
	}
	
	PARAMETER
	{
		name = Sequence
		type = Sequence
		
		PARAMETER
		{
			name = Rendezvous
			type = Rendezvous
			vessel = Skylab
			distance = 200
			disableOnStateChange = true
			title = Rendezvous with Skylab and inspect the damage
		}
		
		PARAMETER
		{
			name = CollectScienceA
			type = CollectScience
			situation = InSpaceLow
			experiment = crewReport
			recoveryMethod = Transmit
			title = Relay your findings about Skylab's situation
			disableOnStateChange = true
		}
		
		PARAMETER
		{
			name = Engineer
			type = All
			title = Inspect Skylab during a close-in EVA with an engineer
			disableOnStateChange = true
			
			PARAMETER
			{
				name = VesselIsType
				type = VesselIsType
				vesselType = EVA
			}
			PARAMETER
			{
				name = HasCrew
				type = HasCrew
				trait = Engineer 
			}
		}
		
		PARAMETER
		{
			name = Docking
			type = Docking
			vessel = Skylab
			title = Then dock with Skylab, activate the cooling system
			defineDockedVessel = Skylab-2
			disableOnStateChange = true
		}
	}

	PARAMETER
	{
		name = CollectScienceB
		type = CollectScience

		title = Perform experiments
		situation = InSpaceLow
		recoveryMethod = RecoverOrTransmit
		disableOnStateChange = True
	}
	
	PARAMETER
	{
		name = ReturnHome
		type = ReturnHome
		title = Safely return the crew home after their stay
	}
	
	REQUIREMENT
	{
		name = PreviousMission
		type = CompleteContract
		contractType = Skylab-1
		minCount = 1
		maxCount = 1
		cooldownDuration = 0d
	}
}