CONTRACT_TYPE
{
	name = Voyager-2
	group = VoyagerMission
	title = Voyager Program

	description = The Voyager program is a scientific program that employs two robotic interstellar probes for the exploration of the outer planets. The objective is to use a favorable alignment of the two gas giants to fly near them while collecting data for transmission back to Earth.

	notes = Voyager 2 was launched by a Titan IIIE on August 20, 1977 from the Cape Canaveral Launch Complex.
	synopsis = <color=yellow>Launch the Voyager 2 spacecraft and flyby Jool, Lindor and Eeloo.</color>
	completedMessage = Mission Success!

	agent = nasa
	minExpiry = 0
	maxExpiry = 0
	prestige = Significant
	cancellable = true
	declinable = true
	maxCompletions = 1
	maxSimultaneous = 1

	rewardScience = 10
	rewardReputation = 5
	rewardFunds = @Blue_Dog_Design_Bureau_Contracts:Kerbucks1
	advanceFunds = @Blue_Dog_Design_Bureau_Contracts:Kerbucks2

	// Jool
	DATA
	{
		title = Jool
		type = CelestialBody
		requiredValue = true
		
		targetBody1 = HomeWorld().Parent().Children().ElementAt(6)
	}
	// Lindor
	DATA
	{
		title = Lindor
		type = CelestialBody
		requiredValue = true
		
		targetBody2 = HomeWorld().Parent().Children().ElementAt(7)
	}
	// Eeloo
	DATA
	{
		title = Eeloo
		type = CelestialBody
		requiredValue = true
		
		targetBody3 = HomeWorld().Parent().Children().ElementAt(8)
	}

	PARAMETER
	{
        name = Voyager-2
        type = VesselParameterGroup
        title = Launch the Voyager 2 probe and flyby Jool, Lindor and Eeloo
        define = Voyager-2

		PARAMETER 
		{
			name = NewVessel
			type = NewVessel
			hidden = true
		}

		PARAMETER
		{
			name = Crewmembers
			type = HasCrew
			minCrew = 0
			maxCrew = 0
		}
		
		// Required Parts ---------------------------------
		//PARAMETER
		//{
		//	type = PartValidation
		//	part = 
		//	disableOnStateChange = True
		//}
		// /Required Parts ---------------------------------

		PARAMETER
		{
			name = ReachState
			type = ReachState
			situation = ESCAPING
			title = Fly by @/targetBody1
			rewardScience = 5
			rewardReputation = 5
			disableOnStateChange = true
		}

		PARAMETER
		{
			name = ReachState
			type = ReachState
			situation = ESCAPING
			title = Fly by @/targetBody2
			rewardScience = 5
			rewardReputation = 5
			disableOnStateChange = true
		}

		PARAMETER
		{
			name = ReachState
			type = ReachState
			situation = ESCAPING
			title = Fly by @/targetBody3
			rewardScience = 5
			rewardReputation = 5
			disableOnStateChange = true
		}

		// -------------------- Moon Flybys --------------------
		PARAMETER
        {
            name = JoolMoonFlybys
			type = ReachState

			situation = ESCAPING
            targetBody = @targetMoon
			title = Flyby @targetBody
			rewardScience = 1
			rewardReputation = 5
			rewardFunds = @Blue_Dog_Design_Bureau_Contracts:Kerbucks1
			completedMessage = You have successfully flown by @targetMoon
			optional = true
			disableOnStateChange = true

            ITERATOR
            {
                type = CelestialBody
                targetMoon = @/targetBody1.Children()
            }
        }
		// Lindor
		PARAMETER
        {
            name = LindorMoonFlybys
			type = ReachState

            targetBody = @targetMoon
			title = Flyby @targetBody
			situation = ESCAPING
			rewardScience = 1
			rewardReputation = 5
			rewardFunds = @Blue_Dog_Design_Bureau_Contracts:Kerbucks1
			completedMessage = You have successfully flown by @targetMoon
			optional = true
			disableOnStateChange = true

            ITERATOR
            {
                type = CelestialBody
                targetMoon = @/targetBody2.Children()
            }
        }
		// Eeloo
		PARAMETER
        {
            name = EelooMoonFlybys
			type = ReachState

			situation = ESCAPING
            targetBody = @targetMoon
			title = Flyby @targetBody
			rewardScience = 1
			rewardReputation = 5
			rewardFunds = @Blue_Dog_Design_Bureau_Contracts:Kerbucks1
			completedMessage = You have successfully flown by @targetMoon
			optional = true
			disableOnStateChange = true

            ITERATOR
            {
                type = CelestialBody
                targetMoon = @/targetBody3.Children()
            }
        }
	}

	REQUIREMENT
	{
        name = CompleteContract
        type = CompleteContract
        contractType = Mariner-10
        minCount =1
        maxCount =1
        cooldownDuration = 0d
	}
}
