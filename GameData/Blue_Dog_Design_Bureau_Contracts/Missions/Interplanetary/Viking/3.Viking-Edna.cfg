CONTRACT_TYPE
{
	name = Viking-Edna
	group = VikingMission
	title = Viking Edna

	description = Viking Edna is a spacecraft consisting of an orbiter and a lander with Edna as objective.

	//notes = Viking 1 was launched by a Titan IIIE Centaur-D1T on August 20, 1975 from Cape Canaveral LC-41.
	synopsis = <color=yellow>Launch the Viking Edna spacecraft and achieve intact landing on solid ground on @/targetBody, transmitting data from its surface.</color>
	completedMessage = Mission Success!

	agent = nasa
	minExpiry = 90
	maxExpiry = 90
	prestige = trivial
	cancellable = true
	declinable = true
	maxCompletions = 1
	maxSimultaneous = 1

    rewardScience = 25
	rewardReputation = 10
	rewardFunds = @Blue_Dog_Design_Bureau_Contracts:Kerbucks1
	advanceFunds = @Blue_Dog_Design_Bureau_Contracts:Kerbucks1


	targetBody = HomeWorld().Parent().Children().ElementAt(4) //Edna
	
	PARAMETER
	{
		name = Viking-Edna
		type = VesselParameterGroup
		title = Launch the Viking-Edna probe
		define = Viking-Edna

		PARAMETER 
		{
			name = NewVessel
			type = NewVessel
			hidden = true
		}

		PARAMETER
		{
			name = Crewmembers
			type = HasCrew
			minCrew = 0
			maxCrew = 0
		}

        // Required Parts ---------------------------------
		PARAMETER
		{
			name = PartValidation
			type = PartValidation
			partModule = ModuleDeployableSolarPanel
			title = Have at least 1 solar panel on this spacecraft
		}
        // /Required Parts ---------------------------------
	}

	PARAMETER
	{
		name = Viking2Obj
		type = VesselParameterGroup
		title = Leave the main craft in orbit of @/targetBody
		vessel = Viking-Edna
		
		PARAMETER
		{
			name = Orbit
			type = Orbit
			targetBody = @/targetBody
			minInclination = 80
			situation = ORBITING
			disableOnStateChange = true
			title = Enter orbit of @/targetBody
		}

		PARAMETER
		{
			name = CollectScienceA
			type = CollectScience
			targetBody = @/targetBody
			location = Space
			recoveryMethod = Transmit
			title = Transmit physics data from orbit
			disableOnStateChange = true
		}
	}

	//Separate objectives for landing and science, to allow for single-craft solutions and avoid vessel id trouble
	PARAMETER
	{
		name = ReachState
		type = ReachState

		targetBody = @/targetBody
		situation = LANDED
		disableOnStateChange = true
		title = Land on solid ground in one piece
	}
	
	PARAMETER
	{
		name = CollectScienceB
		type = CollectScience

		targetBody = @/targetBody
		location = Surface
		recoveryMethod = Transmit
		title = Transmit data and the first images from the surface!
		disableOnStateChange = true
	}
	
    // Contract active once Viking 1 is accepted
	REQUIREMENT
    {
        name = AcceptContract
        type = AcceptContract

        contractType = Viking-2
        minCount = 1
    }
}