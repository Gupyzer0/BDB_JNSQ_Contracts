CONTRACT_TYPE
{
    name = LightBiosatellite
	group = ScienceSatellites
	title = Light Biosatellite

	description = <b>Program: Early Satellites</b><br><br>A biosatellite is an artificial satellite designed to carry plants or animals in outer space. They are used to research the effects of space (cosmic radiation, weightlessness, etc.) on biological matter

	synopsis = Launch a Light Biosatellite into orbit.
	completedMessage = Mission Success!

	cancellable = true
	declinable = true
	autoAccept = false
	minExpiry = 5
	maxExpiry = 10
	maxCompletions = 1
	maxSimultaneous = 1
	deadline = 0

	targetBody = HomeWorld()

	// ------------------------------------------------------------------------
	// Rewards
	// ------------------------------------------------------------------------
	prestige = Significant
	advanceFunds = 0
	rewardFunds = @rewardReputation * @SpacelinesContracts:KerbucksReputationRewardMultiplier
	failureFunds = @rewardFunds
	rewardScience = 2
	rewardReputation = 12
	failureReputation = @rewardReputation

	// ------------------------------------------------------------------------
	// Requirements
	// ------------------------------------------------------------------------

    REQUIREMENT
	{
        name = CompleteContract
        type = CompleteContract
        contractType = BiosatTest
        minCount =1
        maxCount =1
        cooldownDuration = 0d
	}

	// Vessel Name
	DATA
	{
		type = string
		craft = firstBiosatellite
	}

	// ------------------------------------------------------------------------
	// Parameters
	// ------------------------------------------------------------------------
	PARAMETER
	{
        name = LightBiosat
        type = VesselParameterGroup
        title = Launch the Light Biosatellite satellite into orbit.
        define = @/craft
		dissassociateVesselsOnContractCompletion = true
		
		PARAMETER 
		{
			name = NewVessel
			type = NewVessel
			hidden = true
		}
		
		PARAMETER
		{
			name = Crewmembers
			type = HasCrew
			minCrew = 0
			maxCrew = 0
		}
		
		// Required Parts ---------------------------------
		PARAMETER
		{
			name = BioExp
			type = Any
			title = Carry a Biological Experiment sample

			PARAMETER:NEEDS[Spacelines-kerbalism]
			{
				name = ExperimentSpacelinesKerbalism
				type = PartValidation

				VALIDATE
				{
					MODULE
					{
						name = Experiment
						experimentID = Spacelines_Bioexp1
					}
				}
			}
			PARAMETER:NEEDS[Spacelines-kerbalism]
			{
				name = ExperimentSpacelinesKerbalism
				type = PartValidation

				VALIDATE
				{
					MODULE
					{
						name = Experiment
						experimentID = Spacelines_Bioexp2
					}
				}
			}
			PARAMETER:NEEDS[Kerbalism]
			{
				name = ExperimentKerbalism
				type = PartValidation

				VALIDATE
				{
					MODULE
					{
						name = Experiment
						experimentID = mysteryGoo
					}
				}
			}
			PARAMETER:NEEDS[Bluedog_DB]
			{
				name = ExperimentBDB
				type = PartValidation

				VALIDATE
				{
					MODULE
					{
						name = Experiment
						experimentID = bd_bioexp
					}
				}
			}
			PARAMETER
			{
				name = ExperimentStock
				type = PartValidation

				VALIDATE
				{
					MODULE
					{
						name = ModuleScienceExperiment
						experimentID = mysteryGoo
					}
				}
			}
			PARAMETER
			{
				name = ExperimentDMO
				type = PartValidation

				VALIDATE
				{
					MODULE
					{
						name = DMModuleScienceAnimateGeneric
						experimentID = mysteryGoo
					}
				}
			}
		}
		// /Required Parts ---------------------------------

		PARAMETER
		{
			name = Orbit
			type = Orbit
			
			minAltitude = @targetBody.AtmosphereAltitude()
            disableOnStateChange = true

			PARAMETER
			{
				name = Duration
				type = Duration
				duration = 1d

				preWaitText = Awaiting Orbital insertion
				waitingText = Orbit achieved, performing biological experiments
				completionText = Study complete
			}
		}

        PARAMETER
        {
            name = HasPower
            type = HasResource
            resource = ElectricCharge
            minQuantity = 1.0
            title = Craft must have Electric Charge
            hideChildren = true
        }
	}

	// Return Home Safely
	PARAMETER
	{
		name = VesselParameterGroup
		type = VesselParameterGroup
		title = Return Home Safely
		vessel = @/craft

		PARAMETER
		{
			name = ReturnHome
			type = ReturnHome
			title = Return home
		}
		completeInSequence = true
	}
}