CONTRACT_TYPE
{
    name = Corona_KH1
    group = CoronaProgram
	title = Corona KH-1

	description = <b>Corona (Discoverer) Program</b><br><br>The Corona program started under the name "Discoverer" as part of the WS-117L satellite reconnaissance and protection program of the U.S. Air Force The primary goal of the program was to develop a film-return photographic satellite to replace the U-2 spyplane in surveilling the Sino-Soviet Bloc, determining the disposition and speed of production of Soviet missiles and long-range bombers assets. The Corona program was also used to produce maps and charts for the Department of Defense and other U.S. government mapping programs. Our first satellite is designated KH-1. KH stood for "Key Hole" with the name being an analogy to the act of spying into a person's room by peering through their door's keyhole. The KH-1 payload consists of the C (Corona) single panoramic camera and a single General Electric return vehicle (SRV, Satellite Return Vehicle). The satellite was based on the Agena-A upper stage, which provides attitude control in orbit. The film return capsule carries its own small solid-fuel retro motor to deorbit at the end of the mission with mid-air recovery of the returning capsule by a specially equipped aircraft.

    synopsis = Launch a Keyhole KH-1 recon satellite into space and perform photo recon of the specified areas
    completedMessage = Mission Success!.

    agent = nro
	cancellable = true
	declinable = true
	autoAccept = false
	minExpiry = 0
	maxExpiry = 0
	maxCompletions = 10
	maxSimultaneous = 1
	deadline = 90

	targetBody = HomeWorld()
	
	// ************ REWARDS ************
	prestige = Trivial  // Significant //Exceptional
	advanceFunds = @rewardReputation * @SpacelinesContracts:KerbucksTrivial
	rewardFunds = @advanceFunds * @SpacelinesContracts:KerbucksRewardTrivial
	failureFunds = @advanceFunds * 1.1
	rewardScience = 0
	rewardReputation = 50
	failureReputation = 0 // was @rewardReputation

	// ************ REQUIREMENTS ************

	// Must have flown Explorer 1 | Vanguard 1
	REQUIREMENT
    {
        name = Any
		type = Any
		
		REQUIREMENT
		{
			name = CompleteContract
			type = CompleteContract

			contractType = Explorer-A-1
			minCount =1
			maxCount =1
			cooldownDuration = 0d
		}

		REQUIREMENT
		{
			name = CompleteContract
			type = CompleteContract

			contractType = Vanguard-1
			minCount =1
			maxCount =1
			cooldownDuration = 0d
		}
	}

	// Must have flown polar|sunsync sat contract
	REQUIREMENT
    {
        name = Any
		type = Any
		
		REQUIREMENT
		{
			name = CompleteContract
			type = CompleteContract

			contractType = FirstPolarSat
			minCount =1
			maxCount =1
			cooldownDuration = 0d
		}

		REQUIREMENT
		{
			name = CompleteContract
			type = CompleteContract

			contractType = FirstSunSyncSat
			minCount =1
			maxCount =1
			cooldownDuration = 0d
		}
	}

	// Deactivate this if a KH-4 mission is flown
	REQUIREMENT
    {
        name = Any
		type = Any
		invertRequirement = true
		
		REQUIREMENT
        {
            name = CompleteContract
            type = CompleteContract
            contractType = Corona_KH4
            minCount = 1
            cooldownDuration = 0d
        }
    }
	
	PARAMETER
    {
        name = KH-1 Recon Satellite
        type = VesselParameterGroup
        title = Launch a new KH-1 recon satellite
		
		PARAMETER
		{
			name = NewVessel
			type = NewVessel
			title = The satellite must be a new vessel
		}
		
		PARAMETER
		{
			name = Crewmembers
			type = HasCrew
			minCrew = 0
			maxCrew = 0
		}

		// Required Parts ---------------------------------
		PARAMETER
		{
			type = PartValidation
			part = bluedog_Corona_Pod
		}
		PARAMETER
		{
			type = PartValidation
			part = bluedog_Keyhole_Camera_KH1
			disableOnStateChange = True
		}
		// /Required Parts ---------------------------------

		PARAMETER
		{
			name = OrbitSequence
			type = Sequence
			title = Collect imagery from orbit

			PARAMETER
			{
				name = HasPower
				type = HasResource
				resource = ElectricCharge
				minQuantity = 1.0
				title = Craft must have Electric Charge for 24 hours
				hideChildren = true
			}

			// Orbit
			PARAMETER
			{
				type = Orbit
				maxApA = 200000
				minInclination = 70
				maxInclination = 100
				disableOnStateChange = true
				title = Orbit requirements
			}

			PARAMETER
			{
				name = Duration
				type = Duration

				duration = 24h 

				preWaitText = Achieve desired orbit
				waitingText = Collect imagery
				completionText = Imagery collection complete
			}
		}

		PARAMETER
		{
			name = CollectScience
			type = CollectScience

			title = Take a photo of the specified area
			biome = [ AridLowlands, AridMidlands, AridHighlands, AridMountains, Lowlands, Midlands, Highlands, Mountains, IceCaps ].Random()
			situation = InSpaceLow
			experiment = Photos1
			recoveryMethod = Recover
		}
	}
}